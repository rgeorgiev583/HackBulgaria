package com.hackbulgaria.corejava.asciiplayer;

import java.awt.image.BufferedImage;
import java.util.ArrayList;
import java.util.List;

import javax.imageio.ImageIO;
import javax.imageio.ImageReader;
import javax.imageio.stream.ImageInputStream;

public class GifPlayer extends SequencePlayer {
	public GifPlayer(String path) {
		super(path);
		
	    List<BufferedImage> frames = new ArrayList<BufferedImage>();
	    ImageReader ir = (ImageReader) ImageIO.getImageReadersByFormatName("gif").next();
	    ir.setInput(ImageIO.createImageInputStream(file));
	    
	    for (int i = 0; i < ir.getNumImages(true); i++) {
	    	frames.add(ir.read(i));
	    }
	    
	    sequence = frames;
		}
	}
}
